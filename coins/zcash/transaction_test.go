package zcash

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestCalTxHash(t *testing.T) {
	tx := `0400008085202f890148e60ed0cc6bd78f15f7a227df4ef404123f7b3981ef9dbb62292f277ceea1a9010000006a473044022051156af894c67d3e1a5d7ad0d59d34c495ea8355a23972e3fbda338bbbb1c8ed02200393eea2259a0065008b177ae0055778bc0901d33cc827a03fb469ee34cc617501210390c4b83f8fd186808ae7bc97282c27788687695ad37ea9a1171a762d234b4f80ffffffff0210270000000000001976a914ab79d71fa0bf364e502eadbc6b7ab7a5dbed398688ac9ff51200000000001976a914a92b3917939fecdb74173b03488aa39ee13e900a88ac00000000000000000000000000000000000000`
	res, err := CalTxHash(tx)
	assert.NoError(t, err)
	assert.Equal(t, "ae2fc899950cda0683f0330edfb5eb21c45e39181904ed71fe50f214ecdfea30", res)
}
